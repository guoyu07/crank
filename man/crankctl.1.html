<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="md2man 2.0.4 https://github.com/sunaku/md2man" />
  <title>crankctl(1) &mdash; crank control client</title>
  <link rel="stylesheet" href="style.css"/>
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body><div class="navbar"><div class="navbar-inner"><span class="brand"><a href="index.html#man">man</a>/crankctl.1</span></div></div><div class="container-fluid"><h1 id="CRANKCTL-1-quot-APRIL-2014-quot-Crank-quot-User-Manuals-quot">CRANKCTL 1 &quot;APRIL 2014&quot; Crank &quot;User Manuals&quot;</h1><h2 id="NAME">NAME</h2><p>crankctl - crank control client</p><h2 id="SYNOPSIS">SYNOPSIS</h2><p><code>crankctl</code> <code>&lt;command&gt;</code> [opts]</p><h2 id="DESCRIPTION">DESCRIPTION</h2><p><code>crankctl</code> allows to send commands to <code>crank</code> trough it&#39;s control port.</p><h2 id="OPTIONS">OPTIONS</h2><p>Global options:</p><dl><dt><code>-name</code> <em>process-name</em></dt><dd>If passed, it sets the -ctl arguments to
a <code>/var/run/crank/$name.ctl</code> default.</dd></dl><dl><dt><code>-ctl</code> <em>net-uri</em></dt><dd>Path or address of the control port. This should point to an existing unix
socket controlled by crank.</dd></dl><h2 id="COMMANDS">COMMANDS</h2>
<ul>
<li><code>crankctl run [opts] -- [command ...args]</code></li>
</ul>
<p>Used to start a new process. Once ready, crank terminates the old process. If
the startup fails, crank leaves the old process running and untouched.</p><dl><dt><code>-cwd PATH</code></dt><dd>Directory name to run the command under.</dd></dl><dl><dt><code>-start SEC</code></dt><dd>Sets the start timeout of the process in seconds.</dd></dl><dl><dt><code>-stop SEC</code></dt><dd>Sets the stop timeout of the process in seconds.</dd></dl><dl><dt><code>-wait</code></dt><dd>Waits for either the process to be ready or to fail. If the new process has
failed, crankctl exits with an exit status of 1.</dd></dl><dl><dt><code>command ...args</code></dt><dd>Gives the command and args to run. If unspecified, the previous successful
command is used.</dd></dl>
<ul>
<li><code>crankctl info [opts]</code></li>
</ul>
<p>Returns infos on the crankctl runtime.</p>
<ul>
<li><code>crankctl ps [opts]</code></li>
</ul>
<p>Displays the status of running processes. If no argument is passed, all
processes are listed.</p><dl><dt><code>-starting</code></dt><dd>Selects all starting processes (should only be one)</dd></dl><dl><dt><code>-ready</code></dt><dd>Selects all ready processes (should only be one)</dd></dl><dl><dt><code>-stoppping</code></dt><dd>Selects all stoppping processes.</dd></dl><dl><dt><code>-pid PID</code></dt><dd>Selects a specific PID from the exisiting set. This flag is a AND filter
unlike the other ones.</dd></dl>
<ul>
<li><code>crankctl kill [opts]</code></li>
</ul>
<p>Sends a signal to the target processes. If no argument is passes, no processes
are signaled.</p><dl><dt><code>-signal SIGNAME</code></dt><dd>Provides the type of signal to send. If no signal is passed, SIGTERM is the
default. Signals can be prefixed with &quot;SIG&quot; or not. Eg: SIGINT or INT</dd></dl><dl><dt><code>-starting</code></dt><dd>Selects all starting processes (should only be one)</dd></dl><dl><dt><code>-ready</code></dt><dd>Selects all ready processes (should only be one)</dd></dl><dl><dt><code>-stoppping</code></dt><dd>Selects all stoppping processes.</dd></dl><dl><dt><code>-pid PID</code></dt><dd>Selects a specific PID from the exisiting set. This flag is a AND filter
unlike the other ones.</dd></dl><h2 id="ENVIRONMENT">ENVIRONMENT</h2><dl><dt><code>CRANK_NAME</code>, <code>CRANK_CTL</code></dt><dd>If non-null it defines the default argument of their corresponding flag.</dd></dl><h2 id="SEE-ALSO">SEE ALSO</h2><p><a class="md2man-xref">crank(1)</a>, <a class="md2man-xref">crankmulti(1)</a></p></div></body>
</html>
